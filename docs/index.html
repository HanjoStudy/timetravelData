<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Access Time Travellers data via API ‚Ä¢ timetravelData</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Access Time Travellers data via API">
<meta property="og:description" content="What the package does (one paragraph).">
<meta property="og:image" content="/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">timetravelData</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/collect_all.html">Retrieving results</a>
    </li>
  </ul>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/HanjoStudy/timetravelData/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div class="section level1">
<div class="page-header"><h1 id="timetraveldata-">timetravelData <img src="reference/figures/logo.png" align="right" alt="" width="120"><a class="anchor" aria-label="anchor" href="#timetraveldata-"></a>
</h1></div>
<p>Welcome to the <a href="https://timetraveller.voyage/" class="external-link">Time Traveller Project!</a>.</p>
<p>Time Traveller is a digital humanities project that collects, analyses, and disseminates data about travellers‚Äô observations of pre-colonial Africa using the latest techniques in computer science.</p>
<p>Very few written primary accounts of pre-colonial Africa exist. This lack of documented history hinders our understanding of Africa‚Äôs past and long-term trajectory. We collect over 1000 years of African economic history using handwritten accounts from travellers and their maps.</p>
<p>Analysing such a corpus of text is an insurmountable task for traditional historians and would probably take a lifetimes work. By combining modern day computational linguistic techniques in combination with domain knowledge of African economic history, we build a corpus of pre-colonial African history across space and time. This large body of written accounts can be used to systemically shed new light on Africa‚Äôs past.</p>
<p>The project uses multiple open-source tools to make this data available:</p>
<p><img src="reference/figures/architecture.png"><!-- --></p>
<div class="section level2">
<h2 id="api-interface">Api Interface<a class="anchor" aria-label="anchor" href="#api-interface"></a>
</h2>
<p><a href="https://www.tidyverse.org/lifecycle/#experimental" class="external-link"><img src="https://img.shields.io/badge/lifecycle-experimental-orange.svg" alt="Lifecycle: experimental"></a> <a href="https://github.com/HanjoStudy/timetravelData/commits/develop" class="external-link"><img src="https://img.shields.io/github/last-commit/HanjoStudy/timetravelData.svg"></a></p>
<p><a href="https://github.com/HanjoStudy/timetravelData" class="external-link">timetravelData</a> provides access to over 500,000 pages of travel accounts via an API that is fed by Elasticsearch.</p>
<p>This is the homepage for the {timetravelData} R package is at <a href="https://github.com/HanjoStudy/timetravelData" class="external-link uri">https://github.com/HanjoStudy/timetravelData</a>.</p>
<p>The homepage for the {timetravelData} <code>python</code> package is <em>coming soon!</em>.</p>
<p>‚ö†Ô∏è The number of results you will be able to return will be dependent on your level of access:</p>
<ul>
<li>Example: 10 pages</li>
<li>Limited: 100 pages</li>
<li>Top: 10,000 pages</li>
</ul>
<p>We are hoping that once we have sufficient funding to expand the resource capability in order to do away with the tiered system. üòâ</p>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>Install from GitHub.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"HanjoStudy/timetravelData"</span><span class="op">)</span></span></code></pre></div>
<p>If you want availability to the latest features (at your own risk) then you can also install from the development branch.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"HanjoStudy/timetravelData"</span>, ref <span class="op">=</span> <span class="st">"dev"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a>
</h2>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">timetravelData</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyr.tidyverse.org" class="external-link">tidyr</a></span><span class="op">)</span></span></code></pre></div>
<p>Check version.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/packageDescription.html" class="external-link">packageVersion</a></span><span class="op">(</span><span class="st">"timetravelData"</span><span class="op">)</span></span></code></pre></div>
<div class="section level3">
<h3 id="set-api-key">Set API Key<a class="anchor" aria-label="anchor" href="#set-api-key"></a>
</h3>
<p>To access the API you‚Äôll need to first specify an API key as provided to you by the project.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Example API key (this key will only allow 10 search results).</span></span>
<span><span class="fu"><a href="reference/set_api_key.html">set_api_key</a></span><span class="op">(</span><span class="st">"test_the_package"</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/get_api_key.html">get_api_key</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>If you wish not to set the key every time, use <code><a href="https://usethis.r-lib.org/reference/edit.html" class="external-link">usethis::edit_r_environ()</a></code> to set the key to <code>TIMETRAVELDATA_KEY</code>.</p>
<p>Please be aware, that there is an order where the API looks for keys:</p>
<ol style="list-style-type: decimal">
<li>Look for <code>ENV</code> variable, <code>TIMETRAVELDATA_KEY</code>, if not found, look in <code>cache</code> where key was stored using <code><a href="reference/set_api_key.html">set_api_key()</a></code>
</li>
<li>
<code><a href="reference/set_api_key.html">set_api_key()</a></code> OVERRIDES <code>TIMETRAVELDATA_KEY</code> in <code>.Renviron</code>!</li>
</ol>
<p>To obtain a key, please get in touch. Contact details are on the website: <a href="https://timetraveller.voyage/" class="external-link uri">https://timetraveller.voyage/</a>.</p>
</div>
</div>
<div class="section level2">
<h2 id="full-text-search">Full-text Search<a class="anchor" aria-label="anchor" href="#full-text-search"></a>
</h2>
<div class="section level3">
<h3 id="querying-the-text">Querying the text<a class="anchor" aria-label="anchor" href="#querying-the-text"></a>
</h3>
<p>The searching functionality uses a very simple interface through the <code>query_text</code> function. Lets imagine we need to look for whether the word ‚Äúcotton‚Äù is contained in the text. Start by looking up how many <em>hits</em> were seen in the database:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">total_hits</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/query_hits.html">query_hits</a></span><span class="op">(</span><span class="st">"cotton"</span><span class="op">)</span></span></code></pre></div>
<p>From the example, we can see that the word ‚Äúcotton‚Äù was observed on 9255 pages. Next we can start retrieving the text:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">out</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/query_text.html">query_text</a></span><span class="op">(</span></span>
<span>  query <span class="op">=</span><span class="st">"cotton"</span>,</span>
<span>  from_pos <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  tidy <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">out</span></span></code></pre></div>
<div class="sourceCode" id="cb8"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># A tibble: 10 √ó 4</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>   guid_hash            pg_nr type     hightlight</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>   <span class="sc">&lt;</span>chr<span class="sc">&gt;</span>                <span class="er">&lt;</span>int<span class="sc">&gt;</span> <span class="er">&lt;</span>chr<span class="sc">&gt;</span>    <span class="er">&lt;</span>list<span class="sc">&gt;</span>    </span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a> <span class="dv">1</span> b24f414b88a247bd7b5d   <span class="dv">680</span> pdftools <span class="sc">&lt;</span>chr [<span class="dv">19</span>]<span class="sc">&gt;</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a> <span class="dv">2</span> 704016213cd70d8cdc58    <span class="dv">66</span> pdftools <span class="sc">&lt;</span>chr [<span class="dv">13</span>]<span class="sc">&gt;</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a> <span class="dv">3</span> 06b3494a9347aad3726c   <span class="dv">194</span> pdftools <span class="sc">&lt;</span>chr [<span class="dv">14</span>]<span class="sc">&gt;</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a> <span class="dv">4</span> da787b1696d108219db4    <span class="dv">81</span> pdftools <span class="sc">&lt;</span>chr [<span class="dv">5</span>]<span class="sc">&gt;</span> </span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a> <span class="dv">5</span> 91078ccd5db5d7530e10   <span class="dv">299</span> pdftools <span class="sc">&lt;</span>chr [<span class="dv">7</span>]<span class="sc">&gt;</span> </span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a> <span class="dv">6</span> b24f414b88a247bd7b5d   <span class="dv">396</span> pdftools <span class="sc">&lt;</span>chr [<span class="dv">9</span>]<span class="sc">&gt;</span> </span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a> <span class="dv">7</span> e2cc4778a6fb02dca0bd   <span class="dv">336</span> pdftools <span class="sc">&lt;</span>chr [<span class="dv">8</span>]<span class="sc">&gt;</span> </span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a> <span class="dv">8</span> b24f414b88a247bd7b5d   <span class="dv">432</span> pdftools <span class="sc">&lt;</span>chr [<span class="dv">11</span>]<span class="sc">&gt;</span></span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a> <span class="dv">9</span> b24f414b88a247bd7b5d   <span class="dv">431</span> pdftools <span class="sc">&lt;</span>chr [<span class="dv">11</span>]<span class="sc">&gt;</span></span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a><span class="dv">10</span> b24f414b88a247bd7b5d   <span class="dv">679</span> pdftools <span class="sc">&lt;</span>chr [<span class="dv">9</span>]<span class="sc">&gt;</span> </span></code></pre></div>
<p>The function has three parameters:</p>
<ul>
<li>
<strong>query:</strong> This contains the text we want to search.</li>
<li>
<strong>from_pos:</strong> This parameter is used in pagination. See the vignette how to page through results.</li>
<li>
<strong>tidy:</strong> The default is to tidy the results in a nested <code>tibble</code> where the word could have occured more than once on a page</li>
</ul>
<p>This function outputs four columns:</p>
<ul>
<li>
<strong>guid_hash:</strong> This is the <em>global unique identifier</em> and links back to a document (not page) within our larger corpus. See below how to look up the document meta information.</li>
<li>
<strong>pg_nr:</strong> This is the <em>page number</em> on which the search got a positive match.</li>
<li>
<strong>type:</strong> We use two types of text extraction methods: <code>libpoppler</code> from the <a href="https://github.com/ropensci/pdftools" class="external-link"><code>pdftools</code></a> package, as well as the <a href="https://github.com/ropensci/tesseract" class="external-link"><code>tesseract</code></a> library when the <code>pdftools</code> library failed. This column indicates which tool is displayed.</li>
<li>
<strong>Highlight:</strong> This is the most important column. This contains the snippets of where the text matched. To extract the text it is suggested to <code>unnest</code> the column using the <code>tidyr</code> unfunction as: <code>out %&gt;% unnest(hightlight)</code>.</li>
</ul>
</div>
<div class="section level3">
<h3 id="document-meta">Document meta<a class="anchor" aria-label="anchor" href="#document-meta"></a>
</h3>
<p>To find the document meta, we need to feed the <code>document_meta</code> function a <code>guid_hash</code></p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">out</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/query_text.html">query_text</a></span><span class="op">(</span></span>
<span>  query <span class="op">=</span><span class="st">"cotton"</span>,</span>
<span>  from_pos <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  tidy <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">guid_hash</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">out</span><span class="op">$</span><span class="va">guid_hash</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span></span>
<span><span class="fu"><a href="reference/document_meta.html">document_meta</a></span><span class="op">(</span><span class="va">guid_hash</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span> <span class="va">t</span></span></code></pre></div>
<div class="sourceCode" id="cb10"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>                            [,<span class="dv">1</span>]                                                                                                                                              </span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>guid_hash                   <span class="st">"b24f414b88a247bd7b5d"</span>                                                                                                                            </span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>orig_file                   <span class="st">"fitzgerald_ww_1891_1.pdf"</span>                                                                                                                        </span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>title                       <span class="st">"Travels in the coastlands of British East Africa and the islands of Zanzibar and Pemba; their agricultural resources and general characteristics"</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>pages                       <span class="st">"822"</span>                                                                                                                                             </span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>file_size                   <span class="st">"42.8 Mb"</span>                                                                                                                                         </span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>pdftools_english_word_count <span class="st">"235074"</span>                                                                                                                                          </span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>ocr_english_word_count      <span class="st">"269333"</span>                                                                                                                                          </span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>cosine_similarity           <span class="st">"0.9878495"</span>                                                                                                                                       </span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>jaccard_similarity          <span class="st">"0.5376293"</span>                                                                                                                                       </span></code></pre></div>
<p>This function outputs nine columns.</p>
</div>
<div class="section level3">
<h3 id="advance-search-queries-with-lucene-notation">Advance search queries with Lucene notation<a class="anchor" aria-label="anchor" href="#advance-search-queries-with-lucene-notation"></a>
</h3>
<div class="section level4">
<h4 id="basic-search">Basic Search<a class="anchor" aria-label="anchor" href="#basic-search"></a>
</h4>
<p>See full documentation on Elasticsearch‚Äôs <a href="https://www.elastic.co/guide/en/elasticsearch/reference/8.4/query-dsl-query-string-query.html#query-string-syntax" class="external-link">website</a></p>
<p>Basic searches uses an analyzer that independently converts each part into tokens before returning matching documents:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">query</span> <span class="op">&lt;-</span> <span class="st">"(new york city) OR (big apple)"</span></span>
<span><span class="va">out</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/query_text.html">query_text</a></span><span class="op">(</span><span class="va">query</span><span class="op">)</span></span>
<span><span class="va">out</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://tidyr.tidyverse.org/reference/nest.html" class="external-link">unnest</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb12"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>Warning<span class="sc">:</span> <span class="st">`</span><span class="at">cols</span><span class="st">`</span> is now required when using <span class="fu">unnest</span>().</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>Please use <span class="st">`</span><span class="at">cols = c(hightlight)</span><span class="st">`</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="co"># A tibble: 41 √ó 4</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>   guid_hash            pg_nr type     hightlight                               </span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>   <span class="sc">&lt;</span>chr<span class="sc">&gt;</span>                <span class="er">&lt;</span>int<span class="sc">&gt;</span> <span class="er">&lt;</span>chr<span class="sc">&gt;</span>    <span class="er">&lt;</span>chr<span class="sc">&gt;</span>                                    </span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a> <span class="dv">1</span> 8b53b078c4a68bd218b9   <span class="dv">460</span> pdftools Still, <span class="sc">--</span>New<span class="sc">--</span> <span class="sc">--</span>York<span class="sc">--</span> is at best an ex‚Ä¶</span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a> <span class="dv">2</span> 8b53b078c4a68bd218b9   <span class="dv">460</span> pdftools Neither London nor Paris compares with <span class="sc">-</span>‚Ä¶</span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a> <span class="dv">3</span> 8b53b078c4a68bd218b9   <span class="dv">460</span> pdftools While the <span class="sc">--</span>New<span class="sc">--</span> <span class="sc">--</span>York<span class="sc">--</span> hotels give y‚Ä¶</span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a> <span class="dv">4</span> 8b53b078c4a68bd218b9   <span class="dv">460</span> pdftools Some of the <span class="sc">--</span>big<span class="sc">--</span> watering<span class="sc">-</span>place hotel‚Ä¶</span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a> <span class="dv">5</span> 8b53b078c4a68bd218b9   <span class="dv">460</span> pdftools As <span class="cf">for</span> restaurants, Paris has fine ones,‚Ä¶</span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a> <span class="dv">6</span> b8c28359ed8d9c6f5894    <span class="dv">17</span> pdftools H<span class="sc">^</span>orrfctiou <span class="sc">--</span>CITY<span class="sc">--</span> OF <span class="sc">--</span>NEW<span class="sc">--</span> <span class="sc">--</span>YORK<span class="sc">--</span>‚Ä¶</span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a> <span class="dv">7</span> b8c28359ed8d9c6f5894    <span class="dv">17</span> pdftools University of the <span class="sc">--</span>City<span class="sc">--</span> of Nnv <span class="sc">--</span>York‚Ä¶</span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a> <span class="dv">8</span> b8c28359ed8d9c6f5894    <span class="dv">17</span> pdftools By henry DEAPEE, M.D., Professor of Anal‚Ä¶</span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a> <span class="dv">9</span> e1062b1058b2257f9336   <span class="dv">440</span> pdftools <span class="sc">--</span>New<span class="sc">--</span> <span class="sc">--</span>York<span class="sc">--</span> <span class="cf">in</span> <span class="dv">1879</span> imported <span class="dv">2</span>,<span class="dv">740</span>,‚Ä¶</span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true" tabindex="-1"></a><span class="dv">10</span> e1062b1058b2257f9336   <span class="dv">440</span> pdftools The West Indies is the chief seat of Pin‚Ä¶</span>
<span id="cb12-17"><a href="#cb12-17" aria-hidden="true" tabindex="-1"></a><span class="co"># ‚Ä¶ with 31 more rows</span></span></code></pre></div>
<p>A term can be a single word <em>quick</em> or <em>brown</em> - or a phrase, surrounded by double quotes - ‚Äúquick brown‚Äù</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">query</span> <span class="op">&lt;-</span> <span class="st">'"new york"'</span></span>
<span><span class="va">out</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/query_text.html">query_text</a></span><span class="op">(</span><span class="va">query</span><span class="op">)</span></span>
<span><span class="va">out</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://tidyr.tidyverse.org/reference/nest.html" class="external-link">unnest</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb14"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>Warning<span class="sc">:</span> <span class="st">`</span><span class="at">cols</span><span class="st">`</span> is now required when using <span class="fu">unnest</span>().</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>Please use <span class="st">`</span><span class="at">cols = c(hightlight)</span><span class="st">`</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a><span class="co"># A tibble: 38 √ó 4</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>   guid_hash            pg_nr type     hightlight                               </span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>   <span class="sc">&lt;</span>chr<span class="sc">&gt;</span>                <span class="er">&lt;</span>int<span class="sc">&gt;</span> <span class="er">&lt;</span>chr<span class="sc">&gt;</span>    <span class="er">&lt;</span>chr<span class="sc">&gt;</span>                                    </span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a> <span class="dv">1</span> 7ca8d2a7f75a7d7b97c6   <span class="dv">340</span> ocr      Vail, <span class="sc">--</span>New<span class="sc">--</span> <span class="sc">--</span>York<span class="sc">--</span>, N. Y. <span class="dv">3</span>          </span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a> <span class="dv">2</span> 7ca8d2a7f75a7d7b97c6   <span class="dv">340</span> ocr      <span class="sc">--</span>New<span class="sc">--</span> <span class="sc">--</span>York<span class="sc">--</span>, N. Y. John E. Hudson, ‚Ä¶</span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a> <span class="dv">3</span> 7ca8d2a7f75a7d7b97c6   <span class="dv">340</span> ocr      James, <span class="sc">--</span>New<span class="sc">--</span> <span class="sc">--</span>York<span class="sc">--</span>, N. Y. Miss Loui‚Ä¶</span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a> <span class="dv">4</span> 7ca8d2a7f75a7d7b97c6   <span class="dv">340</span> ocr      Esther Herrmann, <span class="sc">--</span>New<span class="sc">--</span> <span class="sc">--</span>York<span class="sc">--</span>, N. Y.‚Ä¶</span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a> <span class="dv">5</span> 7ca8d2a7f75a7d7b97c6   <span class="dv">340</span> ocr      Gillingham, <span class="sc">--</span>New<span class="sc">--</span> <span class="sc">--</span>York<span class="sc">--</span>, N. Y. Miss‚Ä¶</span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a> <span class="dv">6</span> 7ca8d2a7f75a7d7b97c6   <span class="dv">340</span> ocr      Meyer, <span class="sc">--</span>New<span class="sc">--</span> <span class="sc">--</span>York<span class="sc">--</span>, N. Y. John Ervi‚Ä¶</span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a> <span class="dv">7</span> 7ca8d2a7f75a7d7b97c6   <span class="dv">339</span> ocr      Isaac Adler, <span class="sc">--</span>New<span class="sc">--</span> <span class="sc">--</span>York<span class="sc">--</span>, N. Y. Sam‚Ä¶</span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a> <span class="dv">8</span> 7ca8d2a7f75a7d7b97c6   <span class="dv">339</span> ocr      Daly, <span class="sc">--</span>New<span class="sc">--</span> <span class="sc">--</span>York<span class="sc">--</span>, N. Y. a Charles ‚Ä¶</span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a> <span class="dv">9</span> <span class="fl">90e6</span>ef9db342542a755c     <span class="dv">3</span> pdftools <span class="sc">--</span>NEW<span class="sc">--</span> <span class="sc">--</span>YORK<span class="sc">--</span> TROW DIRECTORY, PRINTIN‚Ä¶</span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a><span class="dv">10</span> <span class="fl">90e6</span>ef9db342542a755c     <span class="dv">3</span> pdftools CHIEF OF CLINIC, NERVOUS DEPARTMENT, VAN‚Ä¶</span>
<span id="cb14-17"><a href="#cb14-17" aria-hidden="true" tabindex="-1"></a><span class="co"># ‚Ä¶ with 28 more rows</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="fuzzy-search">Fuzzy Search<a class="anchor" aria-label="anchor" href="#fuzzy-search"></a>
</h4>
<p>You can run fuzzy queries using the <code>~</code> operator (We have it set to lvl. 1).</p>
<blockquote>
<p>The query uses the Damerau-Levenshtein distance to find all terms with a maximum of two changes, where a change is the insertion, deletion or substitution of a single character, or transposition of two adjacent characters.</p>
</blockquote>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">query</span> <span class="op">&lt;-</span> <span class="st">"Aligtor~"</span></span>
<span><span class="va">out</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/query_text.html">query_text</a></span><span class="op">(</span><span class="va">query</span><span class="op">)</span></span>
<span><span class="va">out</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://tidyr.tidyverse.org/reference/nest.html" class="external-link">unnest</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb16"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>Warning<span class="sc">:</span> <span class="st">`</span><span class="at">cols</span><span class="st">`</span> is now required when using <span class="fu">unnest</span>().</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>Please use <span class="st">`</span><span class="at">cols = c(hightlight)</span><span class="st">`</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a><span class="co"># A tibble: 11 √ó 4</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>   guid_hash            pg_nr type     hightlight                               </span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>   <span class="sc">&lt;</span>chr<span class="sc">&gt;</span>                <span class="er">&lt;</span>int<span class="sc">&gt;</span> <span class="er">&lt;</span>chr<span class="sc">&gt;</span>    <span class="er">&lt;</span>chr<span class="sc">&gt;</span>                                    </span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a> <span class="dv">1</span> d5e102415ffcc7ee0fdf    <span class="dv">57</span> pdftools <span class="st">"49 Sohooner --Aligator-- arrived at Fou‚Ä¶</span></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a><span class="st"> 2 d5e102415ffcc7ee0fdf    57 pdftools "</span>Stockton, of the <span class="sc">--</span>Aligator<span class="sc">--</span>, by whose‚Ä¶</span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a> <span class="dv">3</span> d5e102415ffcc7ee0fdf    <span class="dv">57</span> pdftools <span class="st">"Tuesday Morning, 13th May, 1821. √¢‚Ç¨‚ÄùThe‚Ä¶</span></span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a><span class="st"> 4 d5e102415ffcc7ee0fdf    16 pdftools "</span>The period of the arrival of the <span class="sc">--</span>Alig‚Ä¶</span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a> <span class="dv">5</span> d5e102415ffcc7ee0fdf    <span class="dv">16</span> pdftools <span class="st">"We had been taught to expect the arriva‚Ä¶</span></span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a><span class="st"> 6 b307fd07898c2d10004e   250 pdftools "</span><span class="sc">--</span>Alitor<span class="sc">--</span> <span class="fl">4.</span> Eh neh <span class="dv">5</span> Ah tong <span class="fl">6.</span> Ah ee‚Ä¶</span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a> <span class="dv">7</span> c2bcb775ef32fdfa7776   <span class="dv">248</span> pdftools <span class="st">"It runs very awkwardly on account of it‚Ä¶</span></span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a><span class="st"> 8 d5e102415ffcc7ee0fdf    17 pdftools "</span>our contract <span class="cf">for</span> the lands, and returne‚Ä¶</span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a> <span class="dv">9</span> d7d3313e5665cf123d55     <span class="dv">6</span> pdftools <span class="st">"D. 1185. f </span><span class="sc">\"</span><span class="st"> --Alitor-- elegans et acc‚Ä¶</span></span>
<span id="cb16-16"><a href="#cb16-16" aria-hidden="true" tabindex="-1"></a><span class="st">10 d5e102415ffcc7ee0fdf    35 pdftools "</span>We regard it as a most favourable provi‚Ä¶</span>
<span id="cb16-17"><a href="#cb16-17" aria-hidden="true" tabindex="-1"></a><span class="dv">11</span> 01645ef9996f928b8fd0   <span class="dv">103</span> pdftools <span class="st">"fruits of an intertropical origin flour‚Ä¶</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="proximity-search">Proximity Search<a class="anchor" aria-label="anchor" href="#proximity-search"></a>
</h4>
<p>We can also apply proximity searches:</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">query</span> <span class="op">&lt;-</span> <span class="st">'"crocodile shoot"~5'</span></span>
<span><span class="va">out</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/query_text.html">query_text</a></span><span class="op">(</span><span class="va">query</span><span class="op">)</span></span>
<span><span class="va">out</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://tidyr.tidyverse.org/reference/nest.html" class="external-link">unnest</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb18"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>Warning<span class="sc">:</span> <span class="st">`</span><span class="at">cols</span><span class="st">`</span> is now required when using <span class="fu">unnest</span>().</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>Please use <span class="st">`</span><span class="at">cols = c(hightlight)</span><span class="st">`</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a><span class="co"># A tibble: 13 √ó 4</span></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>   guid_hash            pg_nr type     hightlight                               </span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>   <span class="sc">&lt;</span>chr<span class="sc">&gt;</span>                <span class="er">&lt;</span>int<span class="sc">&gt;</span> <span class="er">&lt;</span>chr<span class="sc">&gt;</span>    <span class="er">&lt;</span>chr<span class="sc">&gt;</span>                                    </span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a> <span class="dv">1</span> 8f883596e0ef7831bd51   <span class="dv">174</span> pdftools In these some natives had been watching,‚Ä¶</span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a> <span class="dv">2</span> 8f883596e0ef7831bd51   <span class="dv">174</span> pdftools appears, Avlien they <span class="sc">--</span>shoot<span class="sc">--</span> at him wi‚Ä¶</span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a> <span class="dv">3</span> 8f883596e0ef7831bd51   <span class="dv">174</span> pdftools hide themselves from view, and rest thei‚Ä¶</span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a> <span class="dv">4</span> a84cdc9a0e701b6360fe   <span class="dv">135</span> pdftools I took a rifle from one of my boys, and ‚Ä¶</span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a> <span class="dv">5</span> 5d764eb59b5587e5e03b   <span class="dv">272</span> pdftools Hunting again √¢‚Ç¨‚ÄùThe Premier Nimrod this‚Ä¶</span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a> <span class="dv">6</span> 0ba1ee2ca1d36e383b8b   <span class="dv">292</span> pdftools It is useless to attempt to <span class="sc">--</span>shoot<span class="sc">--</span> th‚Ä¶</span>
<span id="cb18-13"><a href="#cb18-13" aria-hidden="true" tabindex="-1"></a> <span class="dv">7</span> f3879792041cf8bbbadb    <span class="dv">19</span> pdftools a <span class="sc">--</span>Crocodile<span class="sc">--</span> √¢‚Ç¨‚Äù The River comes down‚Ä¶</span>
<span id="cb18-14"><a href="#cb18-14" aria-hidden="true" tabindex="-1"></a> <span class="dv">8</span> f3879792041cf8bbbadb    <span class="dv">19</span> pdftools Gazelle<span class="sc">-</span>shooting√¢‚Ç¨‚Äù The Speed of the Gaz‚Ä¶</span>
<span id="cb18-15"><a href="#cb18-15" aria-hidden="true" tabindex="-1"></a> <span class="dv">9</span> aa4800b0602890f781f6    <span class="dv">87</span> pdftools <span class="sc">--</span>SHOOT<span class="sc">--</span> A <span class="sc">--</span>CROCODILE<span class="sc">--</span>. <span class="dv">51</span> On 23d Jun‚Ä¶</span>
<span id="cb18-16"><a href="#cb18-16" aria-hidden="true" tabindex="-1"></a><span class="dv">10</span> b3f7b94ac2bda5f1693d   <span class="dv">103</span> ocr      Every traveller up the Nile thinks it hi‚Ä¶</span>
<span id="cb18-17"><a href="#cb18-17" aria-hidden="true" tabindex="-1"></a><span class="dv">11</span> 5b98c09a6ba6c3f39e80    <span class="dv">72</span> ocr      In the morning, the first thing I did wa‚Ä¶</span>
<span id="cb18-18"><a href="#cb18-18" aria-hidden="true" tabindex="-1"></a><span class="dv">12</span> aa4800b0602890f781f6   <span class="dv">133</span> pdftools <span class="sc">--</span>SHOOT<span class="sc">--</span> A MONSTER. <span class="dv">5</span> <span class="sc">--</span>crocodile<span class="sc">--</span> ; i‚Ä¶</span>
<span id="cb18-19"><a href="#cb18-19" aria-hidden="true" tabindex="-1"></a><span class="dv">13</span> 76fe377e10498e382f34   <span class="dv">210</span> ocr      Supposing it to be a <span class="sc">--</span>crocodile<span class="sc">--</span>, <span class="sc">:</span> th‚Ä¶</span></code></pre></div>
</div>
<div class="section level4">
<h4 id="boosting-search">Boosting Search<a class="anchor" aria-label="anchor" href="#boosting-search"></a>
</h4>
<p>Use the boost operator <code>^</code> to make one term more relevant than another:</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">query</span> <span class="op">&lt;-</span> <span class="st">'"crocodile^ shoot"~5'</span></span>
<span><span class="va">out</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/query_text.html">query_text</a></span><span class="op">(</span><span class="va">query</span><span class="op">)</span></span>
<span><span class="va">out</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://tidyr.tidyverse.org/reference/nest.html" class="external-link">unnest</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb20"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>Warning<span class="sc">:</span> <span class="st">`</span><span class="at">cols</span><span class="st">`</span> is now required when using <span class="fu">unnest</span>().</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>Please use <span class="st">`</span><span class="at">cols = c(hightlight)</span><span class="st">`</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a><span class="co"># A tibble: 13 √ó 4</span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>   guid_hash            pg_nr type     hightlight                               </span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>   <span class="sc">&lt;</span>chr<span class="sc">&gt;</span>                <span class="er">&lt;</span>int<span class="sc">&gt;</span> <span class="er">&lt;</span>chr<span class="sc">&gt;</span>    <span class="er">&lt;</span>chr<span class="sc">&gt;</span>                                    </span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a> <span class="dv">1</span> 8f883596e0ef7831bd51   <span class="dv">174</span> pdftools In these some natives had been watching,‚Ä¶</span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a> <span class="dv">2</span> 8f883596e0ef7831bd51   <span class="dv">174</span> pdftools appears, Avlien they <span class="sc">--</span>shoot<span class="sc">--</span> at him wi‚Ä¶</span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a> <span class="dv">3</span> 8f883596e0ef7831bd51   <span class="dv">174</span> pdftools hide themselves from view, and rest thei‚Ä¶</span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a> <span class="dv">4</span> a84cdc9a0e701b6360fe   <span class="dv">135</span> pdftools I took a rifle from one of my boys, and ‚Ä¶</span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a> <span class="dv">5</span> 5d764eb59b5587e5e03b   <span class="dv">272</span> pdftools Hunting again √¢‚Ç¨‚ÄùThe Premier Nimrod this‚Ä¶</span>
<span id="cb20-12"><a href="#cb20-12" aria-hidden="true" tabindex="-1"></a> <span class="dv">6</span> 0ba1ee2ca1d36e383b8b   <span class="dv">292</span> pdftools It is useless to attempt to <span class="sc">--</span>shoot<span class="sc">--</span> th‚Ä¶</span>
<span id="cb20-13"><a href="#cb20-13" aria-hidden="true" tabindex="-1"></a> <span class="dv">7</span> f3879792041cf8bbbadb    <span class="dv">19</span> pdftools a <span class="sc">--</span>Crocodile<span class="sc">--</span> √¢‚Ç¨‚Äù The River comes down‚Ä¶</span>
<span id="cb20-14"><a href="#cb20-14" aria-hidden="true" tabindex="-1"></a> <span class="dv">8</span> f3879792041cf8bbbadb    <span class="dv">19</span> pdftools Gazelle<span class="sc">-</span>shooting√¢‚Ç¨‚Äù The Speed of the Gaz‚Ä¶</span>
<span id="cb20-15"><a href="#cb20-15" aria-hidden="true" tabindex="-1"></a> <span class="dv">9</span> aa4800b0602890f781f6    <span class="dv">87</span> pdftools <span class="sc">--</span>SHOOT<span class="sc">--</span> A <span class="sc">--</span>CROCODILE<span class="sc">--</span>. <span class="dv">51</span> On 23d Jun‚Ä¶</span>
<span id="cb20-16"><a href="#cb20-16" aria-hidden="true" tabindex="-1"></a><span class="dv">10</span> b3f7b94ac2bda5f1693d   <span class="dv">103</span> ocr      Every traveller up the Nile thinks it hi‚Ä¶</span>
<span id="cb20-17"><a href="#cb20-17" aria-hidden="true" tabindex="-1"></a><span class="dv">11</span> 5b98c09a6ba6c3f39e80    <span class="dv">72</span> ocr      In the morning, the first thing I did wa‚Ä¶</span>
<span id="cb20-18"><a href="#cb20-18" aria-hidden="true" tabindex="-1"></a><span class="dv">12</span> aa4800b0602890f781f6   <span class="dv">133</span> pdftools <span class="sc">--</span>SHOOT<span class="sc">--</span> A MONSTER. <span class="dv">5</span> <span class="sc">--</span>crocodile<span class="sc">--</span> ; i‚Ä¶</span>
<span id="cb20-19"><a href="#cb20-19" aria-hidden="true" tabindex="-1"></a><span class="dv">13</span> 76fe377e10498e382f34   <span class="dv">210</span> ocr      Supposing it to be a <span class="sc">--</span>crocodile<span class="sc">--</span>, <span class="sc">:</span> th‚Ä¶</span></code></pre></div>
</div>
<div class="section level4">
<h4 id="boolean">Boolean<a class="anchor" aria-label="anchor" href="#boolean"></a>
</h4>
<blockquote>
<p>By default, all terms are optional, as long as one term matches. A search for <code>foo bar baz</code> will find any document that contains one or more of <code>foo</code> or <code>bar</code> or <code>baz</code>. We have already discussed the default_operator above which allows you to force all terms to be required, but there are also boolean operators which can be used in the query string itself to provide more control.</p>
</blockquote>
<p>The preferred operators are <code>+</code> (this term must be present) and <code>-</code> (this term must not be present). All other terms are optional. For example, this query:</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">query</span> <span class="op">&lt;-</span> <span class="st">"crocodile shoot +hunting -shoes"</span></span>
<span><span class="va">out</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/query_text.html">query_text</a></span><span class="op">(</span><span class="va">query</span><span class="op">)</span></span>
<span><span class="va">out</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://tidyr.tidyverse.org/reference/nest.html" class="external-link">unnest</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb22"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>Warning<span class="sc">:</span> <span class="st">`</span><span class="at">cols</span><span class="st">`</span> is now required when using <span class="fu">unnest</span>().</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>Please use <span class="st">`</span><span class="at">cols = c(hightlight)</span><span class="st">`</span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a><span class="co"># A tibble: 44 √ó 4</span></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>   guid_hash            pg_nr type     hightlight                               </span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>   <span class="sc">&lt;</span>chr<span class="sc">&gt;</span>                <span class="er">&lt;</span>int<span class="sc">&gt;</span> <span class="er">&lt;</span>chr<span class="sc">&gt;</span>    <span class="er">&lt;</span>chr<span class="sc">&gt;</span>                                    </span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a> <span class="dv">1</span> a84cdc9a0e701b6360fe   <span class="dv">135</span> pdftools I took a rifle from one of my boys, and ‚Ä¶</span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a> <span class="dv">2</span> a84cdc9a0e701b6360fe   <span class="dv">135</span> pdftools I had completely recovered from my littl‚Ä¶</span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a> <span class="dv">3</span> a84cdc9a0e701b6360fe   <span class="dv">135</span> pdftools of a <span class="sc">--</span>crocodile<span class="sc">--</span> appeared <span class="cf">in</span> the middl‚Ä¶</span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a> <span class="dv">4</span> a84cdc9a0e701b6360fe   <span class="dv">135</span> pdftools A <span class="sc">--</span>CROCODILE<span class="sc">--</span> GIVES US A CHILL. <span class="dv">113</span> st‚Ä¶</span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a> <span class="dv">5</span> 5d764eb59b5587e5e03b    <span class="dv">20</span> pdftools <span class="sc">--</span>Hunting<span class="sc">--</span> again √¢‚Ç¨‚ÄùThe Premier Nimrod ‚Ä¶</span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a> <span class="dv">6</span> 5d764eb59b5587e5e03b    <span class="dv">20</span> pdftools the Setsiebucks √¢‚Ç¨‚Äù prefer <span class="sc">--</span>shoot<span class="sc">--</span> not‚Ä¶</span>
<span id="cb22-13"><a href="#cb22-13" aria-hidden="true" tabindex="-1"></a> <span class="dv">7</span> 5d764eb59b5587e5e03b    <span class="dv">20</span> pdftools Lobengula treated his advisers √¢‚Ç¨‚ÄùTraces‚Ä¶</span>
<span id="cb22-14"><a href="#cb22-14" aria-hidden="true" tabindex="-1"></a> <span class="dv">8</span> eb92273a13dce38242cc   <span class="dv">255</span> pdftools <span class="sc">--</span>HUNTING<span class="sc">--</span> EXPERIENCES. <span class="dv">229</span> CHAPTER IX. </span>
<span id="cb22-15"><a href="#cb22-15" aria-hidden="true" tabindex="-1"></a> <span class="dv">9</span> eb92273a13dce38242cc   <span class="dv">255</span> pdftools Fortunately however April, the Bushman, ‚Ä¶</span>
<span id="cb22-16"><a href="#cb22-16" aria-hidden="true" tabindex="-1"></a><span class="dv">10</span> eb92273a13dce38242cc   <span class="dv">255</span> pdftools Wasps<span class="st">' Xests√¢‚Ç¨‚Äù --Crocodile-- Pond√¢‚Ç¨‚Äù Se‚Ä¶</span></span>
<span id="cb22-17"><a href="#cb22-17" aria-hidden="true" tabindex="-1"></a><span class="st"># ‚Ä¶ with 34 more rows</span></span></code></pre></div>
<p>states that:</p>
<ul>
<li>
<code>hunting</code> must be present.</li>
<li>
<code>shoes</code> must not be present.</li>
<li>
<code>crocodile</code> and <code>shoot</code> are optional - their presence increases the relevance.</li>
</ul>
</div>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing timetravelData</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Hanjo Odendaal <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0003-1172-0444" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>Alexander Moradi <br><small class="roles"> Author </small> <a href="https://orcid.org/0000-0002-4165-4006" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>Edward Kerby <br><small class="roles"> Author </small> <a href="https://orcid.org/0000-0003-2156-4449" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
</ul>
</div>



  </div>
</div>


      <footer><div class="copyright">
  <p></p>
<p>Developed by Hanjo Odendaal, Alexander Moradi, Edward Kerby.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
